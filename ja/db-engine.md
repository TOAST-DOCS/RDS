## Database > RDS for MySQL > DBエンジン

## DBエンジン
MySQLの場合、バージョン番号はバージョン= X.Y.Zで構成されます。NHN Cloud RDS用語でX.Yはメジャーバージョンを、Zはマイナーバージョン番号を表します。


### RDSが提供するDBエンジンのバージョン

以下に記載されたバージョンを使用できます。

| バージョン        | 備考                                                     |
|--------------|-----------------------------------------------------------|
| <strong>8.0</strong> ||
| MySQL 8.0.34 |                                                           | 
| MySQL 8.0.33 |                                                           |
| MySQL 8.0.32 |                                                           | 
| MySQL 8.0.28 |                                                           | 
| MySQL 8.0.23 |                                                           |
| MySQL 8.0.18 |                                                           |
| <strong>5.7</strong> ||
| MySQL 5.7.37 |                                                           |
| MySQL 5.7.33 | 外部のバックアップでDBインスタンスを復元できません。                   |
| MySQL 5.7.26 |                                                           |
| MySQL 5.7.19 |                                                           |
| MySQL 5.7.15 |                                                           |
| <strong>5.6</strong> ||
| MySQL 5.6.33 | 新規DBインスタンスを作成できません。既存DBインスタンスのリードレプリカ作成、復元のみサポートします。 |

MySQLでバージョン番号はバージョン= `X.Y.Z`で構成されます。NHN CloudのRDS for MySQLでは、`X.Y`の場合はメジャーバージョンを、`Z`はマイナーバージョンを表します。

### DBエンジンバージョン管理
DBインスタンスの作成後、DBインスタンスの修正と一緒にDBエンジンのバージョンを変更できます。

> [注意]
> DBバージョン変更しようとする場合、アップグレードのみサポートし、ダウングレードはサポートしません。

DBエンジンのバージョンアップグレードが行われる場合、メジャーバージョン番号のみ変更される場合はメジャーバージョンアップグレード、マイナーバージョン番号のみ変更される場合はマイナーバージョンアップグレードとみなします。
DBエンジンのメジャーバージョンのアップグレードを試みる場合は、次のメジャーバージョンのDBエンジンのバージョンに対してアップグレードが可能です。

#### MySQL 5.7からMySQL 8.0へのアップグレードのための事前点検

MySQL 8.0とMySQL 5.7は相当数の非互換性要素が含まれています。したがって、`5.7`から`8.0`バージョンにメジャーバージョンDBエンジンのアップグレードを行う場合、問題が発生する可能性があります。このため、問題発生が予想される一部の項目に対する事前点検が必要です。以下は事前点検が必要な項目です。

- `mysqlcheck`を通じてバージョンアップグレードの欠格事項がないこと。
- `INFORMATION_SCHEMA.VIEWS`で確認した時、カラム名が64文字を超える内容がないこと。
- データ辞書で使用されるテーブルと同じ名称のテーブルがないこと。
- 長さが255文字または1020バイトを超える個別のENUM、SET列要素があるテーブル、ストアドプロシージャがないこと。
- 外部キー制約の名前が64文字を超えるテーブルがないこと。
- lower_case_table_names`の設定を1に変更する場合は、スキーマ名が小文字であることを確認してください。
- lower_case_table_names`の設定を1に変更する場合、テーブル名が小文字であることを確認します。
- 特定のパーティションチェックで抽出されるパーティションテーブルがないこと。
- InnoDBシステムテーブルスペースと一般テーブルスペースを含む共有テーブルスペースに常駐するテーブルパーティションがないこと。

DB 버전 업그레이드 사전 점검에 대해서는 다음과 같은 방법으로 결과 확인이 가능합니다.
- `5.7から8.0にアップグレードするためのチェックリストの詳細`(https://static.toastoven.net/prod_rds/23.08.17/Check_5.7_to_8.0_ja.xlsx)을 활용한 직접 확인
- 콘솔에서 DB 버전 업그레이드 시도 시 `DB 엔진 업그레이드 사전 확인` 버튼을 이용한 결과 확인
- DB 버전 업그레이드 시도를 통한 결과 확인

콘솔에서 `DB 엔진 업그레이드 사전 확인`을 통한 결과 및 DB 버전 업그레이드 시도를 통한 결과의 경우 개별 DB 인스턴스의 로그 탭에 생성된 `db_version_upgrade_compatibility.log`를 통해 세부 내역 확인이 가능합니다. 세부 내역 항목은 각각 다음의 의미를 가집니다.
- `CHECK_BY_MYSQL_CHECK` : `mysqlcheck`を通じたバージョンアップグレードの欠格事項がないこと。
- `COLUMN_LENGHT_LIMIT_CHECK` : `INFORMATION_SCHEMA.VIEWS`で確認した時、カラム名が64文字を超える内容がないこと。
- `DUPLICATE_NAME_WITH_DATA_DICT` : データ辞書で使用されるテーブルと同じ名称のテーブルがないこと。
- `ENUM_SET_SIZE_CHECK` : 長さが255文字または1020バイトを超える個々のENUM、SET列要素があるテーブル、保存プロシージャがないこと。
- `FOREIGN_KEY_LENGTH_LIMIT_CHECK` : 外部キー制約条件名が64文字を超えるテーブルがないこと。
- `LOWER_CASE_SCHEMAS_NAMES_CHECK` : `lower_case_table_names`設定を1に変更する場合、スキーマ名が小文字であることを確認する。
- `LOWER_CASE_TABLE_NAMES_CHECK` : `lower_case_table_names`設定を1に変更する場合、テーブル名が小文字であることを確認する。
- `PARTITION_TABLE_CHECK` : 特定のパーティションチェックで抽出されるパーティションテーブルがないこと。
- `PROPERTY_LENGTH_LIMIT_CHECK` : InnoDBシステムテーブルスペースと一般テーブルスペースを含む共有テーブルスペースに常駐するテーブルパーティションがないこと。

また、5.7では使用されたが、8.0では削除または変更された事項について確認が必要です。
- [SQL変更項目ガイド](https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-sql-changes)
- [8.0で削除された機能ガイド](https://dev.mysql.com/doc/refman/8.0/en/mysql-nutshell.html#mysql-nutshell-removals)



#### ダミーDBインスタンスを使用したDBエンジンバージョンアップグレード 

DBインスタンスの修正ウィンドウでDBエンジンのバージョンを変更しようとする時、ダミーDBインスタンスの使用有無を選択してバージョンアップの過程で高可用性を得ることができます。ダミーDBインスタンスの使用を選択すると、DBバージョンアップグレードのための予備マスターが生成されます。

> [注意]
> ダミーDBインスタンスの場合、アップグレード過程で一時的な予備マスターを生成するため、このオプションは高可用性構成でない場合にのみ使用できます。


## MySQL을 위한 옵션

### MySQL을 위한 MariaDB 서버 감사 플러그인 지원

- RDS for MySQL에서는 MariaDB 감사 플러그인을 사용하여 MySQL DB 인스턴스용 감사 플러그인을 제공합니다. 

> [주의]
> 일부 MySQL 버전에서는 지원하지 않을 수 있으며, 지원하지 않는 버전으로의 버전 업그레이드 진행 시 해당 플러그인을 사용할 수 없습니다.

#### 지원 버전
| MySQL 버전 | 서버 감사 플러그인 지원 여부 |
| --- | --- |
| <strong>8.0</strong> ||
| MySQL 8.0.34 |O| 
| MySQL 8.0.33 |O| 
| MySQL 8.0.32 |O| 
| MySQL 8.0.28 |O| 
| MySQL 8.0.23 |O|
| MySQL 8.0.18 |O|
| <strong>5.7</strong> ||
| MySQL 5.7.37 |X|
| MySQL 5.7.33 |O|
| MySQL 5.7.26 |O|
| MySQL 5.7.19 |O|
| MySQL 5.7.15 |X|
| <strong>MySQL 5.6</strong> ||
| MySQL 5.6.33 |O|
